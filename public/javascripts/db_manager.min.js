var mysql=require("mysql"),createConnectionToDB=function(){console.log("Creating connection to database..");var a=new mysql.createConnection({host:"localhost",user:"ngn-user",password:"zJ7m9cdujSGrSvAq",database:"ngn-db"});return a.connect(),console.log("Successfully connected to database, returning connection"),a},checkInvalidInput=function(a){if(a.indexOf("<script")>-1)throw console.log("Potentially malicious content found"),{name:"InvalidInputException",message:"Invalid input."};return a},registerNewUser=function(a,b,c,d){var e;if(a.query("INSERT INTO `users`(`username`, `password`, `email`) VALUES ('"+b+"', '"+c+"', '"+d+"')",function(a){return console.log("Inside callback query"),console.log("Callback query error: "+a),null===a?(console.log("No error found while inserting user"),!0):(console.log("Error found while inserting user"),console.log(a),e=a,void 0)}),null!==e)throw e},signIn=function(a,b,c){a.query("SELECT * FROM users where username='"+b+"' and password='"+c+"'",function(a,b,c){return a?a:(console.log("==== Retrieved user from database ===="),console.log("==== Fields[0]: "+c[0]+" ===="),console.log("==== Rows[0]: "+b[0]+" ===="),console.log("==== Retrieved user ID: "+b[0].user_id+" ===="),console.log("==== Retrieved username: "+b[0].username+" ===="),b.username)})};module.exports.createConnectionToDB=createConnectionToDB,module.exports.checkInvalidInput=checkInvalidInput,module.exports.registerNewUser=registerNewUser,module.exports.signIn=signIn;